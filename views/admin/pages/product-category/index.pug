extends ../../layouts/default.pug
include ../../mixins/mixin.filterStatus.pug
include ../../mixins/mixin.search.pug
include ../../mixins/mixin.pagination.pug
include ../../mixins/mixin.form-change-multi.pug
include ../../mixins/mixin.alert.pug
include ../../mixins/mixin.sort.pug

block content
  h1 Quản lý danh mục sản phẩm
 
      .col-4 
        a(
          href=`${prefixAdmin}/products-category/create`
          class='btn btn-outline-success'
        ) + Thêm mới

  table.table.table-striped.mt-4(checkbox-multi)
    thead
      tr
        th  
          input(type="checkbox" name="checkall")
        th Title
        th Img
        th Vị trí
        th Status
        th Hành động
    tbody
      //- Duyệt qua mảng products được truyền từ backend
      each product, index in records
        tr
          td  
            input(
              type="checkbox" 
              name="id" 
              value=product.id
              )
          td #{index + 1}
          td #{product.title}
          td 
            img(src=product.thumbnail, alt=product.title, width="40")
          td 
            //- Nếu trạng thái là "active" thì badge màu xanh
            if(product.status == 'active')
              button(
                type='button'
                data-status=product.status
                data-id=product.id 
                button-change-status
                class='btn btn-sm btn-primary'
              ) Active
            else  
              button(
                type='button'
                data-status=product.status
                data-id=product.id 
                button-change-status
                class='btn btn-sm btn-danger'
              ) Inactive
          td 
            a(
              href=`${prefixAdmin}/product-category/detail/${product.id}`
              class='btn btn-secondary btn-sm'
            ) Chi tiết
            a(
              href=`${prefixAdmin}/product-category/edit/${product.id}`
            ) Sửa
            button(
              class="btn btn-danger btn-sm m1-1"
              button-delete
              data-id=product.id
            ) Xóa



  script(src='/admin/js/product.js')